{"version":3,"sources":["../src/registry/errors.ts","../src/utils/transformers/transform-icons.ts","../src/utils/transformers/transform-menu.ts"],"names":["RegistryErrorCode","RegistryError","message","options","RegistryNotFoundError","url","cause","RegistryUnauthorizedError","RegistryForbiddenError","RegistryFetchError","statusCode","responseBody","baseMessage","suggestion","RegistryNotConfiguredError","registryName","RegistryLocalFileError","filePath","RegistryParseError","item","parseError","z","e","RegistryMissingEnvironmentVariablesError","missingVars","v","RegistryInvalidNamespaceError","name","ConfigParseError","cwd","RegistriesIndexParseError","invalidNamespaces","i","arr","InvalidConfigIconLibraryError","iconLibrary","validOptions","transformIcons","sourceFile","config","iconLibraries","targetLibrary","libraryConfig","transformedIcons","element","SyntaxKind","libraryPropAttr","attr","jsxIconAttr","targetIconName","usageMatch","jsxAttr","componentName","defaultPropsStr","userAttributes","existingPropNames","defaultPropsToAdd","prop","propName","allProps","importDeclaration","iconPlaceholderImport","specifier","importStatements","addedImports","importStmt","importMatch","importedNames","modulePath","namedImports","icon","newImport","_useSemicolon","importDecl","transformMenu","replacement","initializer","text","newText"],"mappings":"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","file":"chunk-YPHLD64H.js","sourcesContent":["import { z } from \"zod\"\n\n// Error codes for programmatic error handling\nexport const RegistryErrorCode = {\n  // Network errors\n  NETWORK_ERROR: \"NETWORK_ERROR\",\n  NOT_FOUND: \"NOT_FOUND\",\n  UNAUTHORIZED: \"UNAUTHORIZED\",\n  FORBIDDEN: \"FORBIDDEN\",\n  FETCH_ERROR: \"FETCH_ERROR\",\n\n  // Configuration errors\n  NOT_CONFIGURED: \"NOT_CONFIGURED\",\n  INVALID_CONFIG: \"INVALID_CONFIG\",\n  MISSING_ENV_VARS: \"MISSING_ENV_VARS\",\n\n  // File system errors\n  LOCAL_FILE_ERROR: \"LOCAL_FILE_ERROR\",\n\n  // Parsing errors\n  PARSE_ERROR: \"PARSE_ERROR\",\n  VALIDATION_ERROR: \"VALIDATION_ERROR\",\n\n  // Generic errors\n  UNKNOWN_ERROR: \"UNKNOWN_ERROR\",\n} as const\n\nexport type RegistryErrorCode =\n  (typeof RegistryErrorCode)[keyof typeof RegistryErrorCode]\n\nexport class RegistryError extends Error {\n  public readonly code: RegistryErrorCode\n  public readonly statusCode?: number\n  public readonly context?: Record<string, unknown>\n  public readonly suggestion?: string\n  public readonly timestamp: Date\n  public readonly cause?: unknown\n\n  constructor(\n    message: string,\n    options: {\n      code?: RegistryErrorCode\n      statusCode?: number\n      cause?: unknown\n      context?: Record<string, unknown>\n      suggestion?: string\n    } = {}\n  ) {\n    super(message)\n    this.name = \"RegistryError\"\n    this.code = options.code || RegistryErrorCode.UNKNOWN_ERROR\n    this.statusCode = options.statusCode\n    this.cause = options.cause\n    this.context = options.context\n    this.suggestion = options.suggestion\n    this.timestamp = new Date()\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor)\n    }\n  }\n\n  toJSON() {\n    return {\n      name: this.name,\n      message: this.message,\n      code: this.code,\n      statusCode: this.statusCode,\n      context: this.context,\n      suggestion: this.suggestion,\n      timestamp: this.timestamp,\n      stack: this.stack,\n    }\n  }\n}\n\nexport class RegistryNotFoundError extends RegistryError {\n  constructor(public readonly url: string, cause?: unknown) {\n    const message = `The item at ${url} was not found. It may not exist at the registry.`\n\n    super(message, {\n      code: RegistryErrorCode.NOT_FOUND,\n      statusCode: 404,\n      cause,\n      context: { url },\n      suggestion:\n        \"Check if the item name is correct and the registry URL is accessible.\",\n    })\n    this.name = \"RegistryNotFoundError\"\n  }\n}\n\nexport class RegistryUnauthorizedError extends RegistryError {\n  constructor(public readonly url: string, cause?: unknown) {\n    const message = `You are not authorized to access the item at ${url}. If this is a remote registry, you may need to authenticate.`\n\n    super(message, {\n      code: RegistryErrorCode.UNAUTHORIZED,\n      statusCode: 401,\n      cause,\n      context: { url },\n      suggestion:\n        \"Check your authentication credentials and environment variables.\",\n    })\n    this.name = \"RegistryUnauthorizedError\"\n  }\n}\n\nexport class RegistryForbiddenError extends RegistryError {\n  constructor(public readonly url: string, cause?: unknown) {\n    const message = `You are not authorized to access the item at ${url}. If this is a remote registry, you may need to authenticate.`\n\n    super(message, {\n      code: RegistryErrorCode.FORBIDDEN,\n      statusCode: 403,\n      cause,\n      context: { url },\n      suggestion:\n        \"Check your authentication credentials and environment variables.\",\n    })\n    this.name = \"RegistryForbiddenError\"\n  }\n}\n\nexport class RegistryFetchError extends RegistryError {\n  constructor(\n    public readonly url: string,\n    statusCode?: number,\n    public readonly responseBody?: string,\n    cause?: unknown\n  ) {\n    // Use the error detail from the server if available\n    const baseMessage = statusCode\n      ? `Failed to fetch from registry (${statusCode}): ${url}`\n      : `Failed to fetch from registry: ${url}`\n\n    const message =\n      typeof cause === \"string\" && cause\n        ? `${baseMessage} - ${cause}`\n        : baseMessage\n\n    let suggestion = \"Check your network connection and try again.\"\n    if (statusCode === 404) {\n      suggestion =\n        \"The requested resource was not found. Check the URL or item name.\"\n    } else if (statusCode === 500) {\n      suggestion = \"The registry server encountered an error. Try again later.\"\n    } else if (statusCode && statusCode >= 400 && statusCode < 500) {\n      suggestion = \"There was a client error. Check your request parameters.\"\n    }\n\n    super(message, {\n      code: RegistryErrorCode.FETCH_ERROR,\n      statusCode,\n      cause,\n      context: { url, responseBody },\n      suggestion,\n    })\n    this.name = \"RegistryFetchError\"\n  }\n}\n\nexport class RegistryNotConfiguredError extends RegistryError {\n  constructor(public readonly registryName: string | null) {\n    const message = registryName\n      ? `Unknown registry \"${registryName}\". Make sure it is defined in components.json as follows:\n{\n  \"registries\": {\n    \"${registryName}\": \"[URL_TO_REGISTRY]\"\n  }\n}`\n      : `Unknown registry. Make sure it is defined in components.json under \"registries\".`\n\n    super(message, {\n      code: RegistryErrorCode.NOT_CONFIGURED,\n      context: { registryName },\n      suggestion:\n        \"Add the registry configuration to your components.json file. Consult the registry documentation for the correct format.\",\n    })\n    this.name = \"RegistryNotConfiguredError\"\n  }\n}\n\nexport class RegistryLocalFileError extends RegistryError {\n  constructor(public readonly filePath: string, cause?: unknown) {\n    super(`Failed to read local registry file: ${filePath}`, {\n      code: RegistryErrorCode.LOCAL_FILE_ERROR,\n      cause,\n      context: { filePath },\n      suggestion: \"Check if the file exists and you have read permissions.\",\n    })\n    this.name = \"RegistryLocalFileError\"\n  }\n}\n\nexport class RegistryParseError extends RegistryError {\n  public readonly parseError: unknown\n\n  constructor(public readonly item: string, parseError: unknown) {\n    let message = `Failed to parse registry item: ${item}`\n\n    if (parseError instanceof z.ZodError) {\n      message = `Failed to parse registry item: ${item}\\n${parseError.errors\n        .map((e) => `  - ${e.path.join(\".\")}: ${e.message}`)\n        .join(\"\\n\")}`\n    }\n\n    super(message, {\n      code: RegistryErrorCode.PARSE_ERROR,\n      cause: parseError,\n      context: { item },\n      suggestion:\n        \"The registry item may be corrupted or have an invalid format. Please make sure it returns a valid JSON object. See https://ui.shadcn.com/schema/registry-item.json.\",\n    })\n\n    this.parseError = parseError\n    this.name = \"RegistryParseError\"\n  }\n}\n\nexport class RegistryMissingEnvironmentVariablesError extends RegistryError {\n  constructor(\n    public readonly registryName: string,\n    public readonly missingVars: string[]\n  ) {\n    const message =\n      `Registry \"${registryName}\" requires the following environment variables:\\n\\n` +\n      missingVars.map((v) => `  â€¢ ${v}`).join(\"\\n\")\n\n    super(message, {\n      code: RegistryErrorCode.MISSING_ENV_VARS,\n      context: { registryName, missingVars },\n      suggestion:\n        \"Set the required environment variables to your .env or .env.local file.\",\n    })\n    this.name = \"RegistryMissingEnvironmentVariablesError\"\n  }\n}\n\nexport class RegistryInvalidNamespaceError extends RegistryError {\n  constructor(public readonly name: string) {\n    const message = `Invalid registry namespace: \"${name}\". Registry names must start with @ (e.g., @shadcn, @v0).`\n\n    super(message, {\n      code: RegistryErrorCode.VALIDATION_ERROR,\n      context: { name },\n      suggestion:\n        \"Use a valid registry name starting with @ or provide a direct URL to the registry.\",\n    })\n    this.name = \"RegistryInvalidNamespaceError\"\n  }\n}\n\nexport class ConfigMissingError extends RegistryError {\n  constructor(public readonly cwd: string) {\n    const message = `No components.json found in ${cwd} or parent directories.`\n\n    super(message, {\n      code: RegistryErrorCode.NOT_CONFIGURED,\n      context: { cwd },\n      suggestion:\n        \"Run 'npx shadcn@latest init' to create a components.json file, or check that you're in the correct directory.\",\n    })\n    this.name = \"ConfigMissingError\"\n  }\n}\n\nexport class ConfigParseError extends RegistryError {\n  constructor(public readonly cwd: string, parseError: unknown) {\n    let message = `Invalid components.json configuration in ${cwd}.`\n\n    if (parseError instanceof z.ZodError) {\n      message = `Invalid components.json configuration in ${cwd}:\\n${parseError.errors\n        .map((e) => `  - ${e.path.join(\".\")}: ${e.message}`)\n        .join(\"\\n\")}`\n    }\n\n    super(message, {\n      code: RegistryErrorCode.INVALID_CONFIG,\n      cause: parseError,\n      context: { cwd },\n      suggestion:\n        \"Check your components.json file for syntax errors or invalid configuration. Run 'npx shadcn@latest init' to regenerate a valid configuration.\",\n    })\n    this.name = \"ConfigParseError\"\n  }\n}\n\nexport class RegistriesIndexParseError extends RegistryError {\n  public readonly parseError: unknown\n\n  constructor(parseError: unknown) {\n    let message = \"Failed to parse registries index\"\n\n    if (parseError instanceof z.ZodError) {\n      const invalidNamespaces = parseError.errors\n        .filter((e) => e.path.length > 0)\n        .map((e) => `\"${e.path[0]}\"`)\n        .filter((v, i, arr) => arr.indexOf(v) === i) // remove duplicates\n\n      if (invalidNamespaces.length > 0) {\n        message = `Failed to parse registries index. Invalid registry namespace(s): ${invalidNamespaces.join(\n          \", \"\n        )}\\n${parseError.errors\n          .map((e) => `  - ${e.path.join(\".\")}: ${e.message}`)\n          .join(\"\\n\")}`\n      } else {\n        message = `Failed to parse registries index:\\n${parseError.errors\n          .map((e) => `  - ${e.path.join(\".\")}: ${e.message}`)\n          .join(\"\\n\")}`\n      }\n    }\n\n    super(message, {\n      code: RegistryErrorCode.PARSE_ERROR,\n      cause: parseError,\n      context: { parseError },\n      suggestion:\n        \"The registries index may be corrupted or have invalid registry namespace format. Registry names must start with @ (e.g., @shadcn, @example).\",\n    })\n\n    this.parseError = parseError\n    this.name = \"RegistriesIndexParseError\"\n  }\n}\n\nexport class InvalidConfigIconLibraryError extends RegistryError {\n  constructor(\n    public readonly iconLibrary: string,\n    public readonly validOptions: string[]\n  ) {\n    const message = `Invalid icon library \"${iconLibrary}\". Valid options are: ${validOptions.join(\n      \", \"\n    )}`\n\n    super(message, {\n      code: RegistryErrorCode.INVALID_CONFIG,\n      context: { iconLibrary, validOptions },\n      suggestion: `Update the \"iconLibrary\" field in your components.json to one of: ${validOptions.join(\n        \", \"\n      )}`,\n    })\n    this.name = \"InvalidConfigIconLibraryError\"\n  }\n}\n","import { iconLibraries, type IconLibraryName } from \"@/src/icons/libraries\"\nimport { InvalidConfigIconLibraryError } from \"@/src/registry/errors\"\nimport { Transformer } from \"@/src/utils/transformers\"\nimport { SourceFile, SyntaxKind } from \"ts-morph\"\n\nexport const transformIcons: Transformer = async ({ sourceFile, config }) => {\n  const iconLibrary = config.iconLibrary\n  if (!iconLibrary) {\n    return sourceFile\n  }\n\n  if (!(iconLibrary in iconLibraries)) {\n    throw new InvalidConfigIconLibraryError(\n      iconLibrary,\n      Object.keys(iconLibraries)\n    )\n  }\n\n  const targetLibrary = iconLibrary as IconLibraryName\n  const libraryConfig = iconLibraries[targetLibrary]\n  let transformedIcons: string[] = []\n\n  for (const element of sourceFile.getDescendantsOfKind(\n    SyntaxKind.JsxSelfClosingElement\n  )) {\n    if (element.getTagNameNode()?.getText() !== \"IconPlaceholder\") {\n      continue\n    }\n\n    // Find the library-specific prop (e.g., \"lucide\", \"tabler\", \"hugeicons\")\n    const libraryPropAttr = element.getAttributes().find((attr) => {\n      if (attr.getKind() !== SyntaxKind.JsxAttribute) {\n        return false\n      }\n      const jsxAttr = attr.asKindOrThrow(SyntaxKind.JsxAttribute)\n      return jsxAttr.getNameNode().getText() === targetLibrary\n    })\n\n    if (!libraryPropAttr) {\n      continue // No icon specified for this library\n    }\n\n    const jsxIconAttr = libraryPropAttr.asKindOrThrow(SyntaxKind.JsxAttribute)\n    const targetIconName = jsxIconAttr\n      .getInitializer()\n      ?.getText()\n      .replace(/^[\"']|[\"']$/g, \"\")\n\n    if (!targetIconName) {\n      continue\n    }\n\n    if (!transformedIcons.includes(targetIconName)) {\n      transformedIcons.push(targetIconName)\n    }\n\n    const usage = libraryConfig.usage\n    const usageMatch = usage.match(/<(\\w+)([^>]*)\\s*\\/>/)\n\n    // Remove the library-specific prop\n    jsxIconAttr.remove()\n\n    // Remove all other library-specific props\n    for (const attr of element.getAttributes()) {\n      if (attr.getKind() !== SyntaxKind.JsxAttribute) {\n        continue\n      }\n      const jsxAttr = attr.asKindOrThrow(SyntaxKind.JsxAttribute)\n      const attrName = jsxAttr.getNameNode().getText()\n      // Filter out library-specific props (lucide, tabler, hugeicons, etc.)\n      if (attrName in iconLibraries) {\n        jsxAttr.remove()\n      }\n    }\n\n    if (!usageMatch) {\n      element.getTagNameNode()?.replaceWithText(targetIconName)\n      continue\n    }\n\n    const [, componentName, defaultPropsStr] = usageMatch\n\n    if (componentName === \"ICON\") {\n      // Get remaining user attributes (non-library props)\n      const userAttributes = element\n        .getAttributes()\n        .filter((attr) => {\n          if (attr.getKind() !== SyntaxKind.JsxAttribute) {\n            return true\n          }\n          const jsxAttr = attr.asKindOrThrow(SyntaxKind.JsxAttribute)\n          const attrName = jsxAttr.getNameNode().getText()\n          // Filter out library-specific props (lucide, tabler, hugeicons, etc.)\n          return !(attrName in iconLibraries)\n        })\n        .map((attr) => attr.getText())\n        .join(\" \")\n\n      if (userAttributes.trim()) {\n        element.replaceWithText(`<${targetIconName} ${userAttributes} />`)\n      } else {\n        element.getTagNameNode()?.replaceWithText(targetIconName)\n      }\n    } else {\n      const existingPropNames = new Set(\n        element\n          .getAttributes()\n          .filter((attr) => attr.getKind() === SyntaxKind.JsxAttribute)\n          .map((attr) =>\n            attr.asKindOrThrow(SyntaxKind.JsxAttribute).getNameNode().getText()\n          )\n      )\n\n      // Replace ICON placeholder in defaultPropsStr with actual icon name\n      const defaultPropsWithIcon = defaultPropsStr.replace(\n        /\\{ICON\\}/g,\n        `{${targetIconName}}`\n      )\n\n      const defaultPropsToAdd = defaultPropsWithIcon\n        .trim()\n        .split(/\\s+(?=\\w+=)/)\n        .filter((prop) => prop)\n        .map((prop) => {\n          const propName = prop.split(\"=\")[0]\n          return propName && !existingPropNames.has(propName) ? prop : null\n        })\n        .filter(Boolean)\n\n      const userAttributes = element\n        .getAttributes()\n        .filter((attr) => {\n          if (attr.getKind() !== SyntaxKind.JsxAttribute) {\n            return true\n          }\n          const jsxAttr = attr.asKindOrThrow(SyntaxKind.JsxAttribute)\n          const attrName = jsxAttr.getNameNode().getText()\n          // Filter out library-specific props (lucide, tabler, hugeicons, etc.)\n          return !(attrName in iconLibraries)\n        })\n        .map((attr) => attr.getText())\n        .join(\" \")\n\n      const allProps = [...defaultPropsToAdd, userAttributes]\n        .filter(Boolean)\n        .join(\" \")\n\n      element.replaceWithText(`<${componentName} ${allProps} />`)\n    }\n  }\n\n  for (const importDeclaration of sourceFile.getImportDeclarations() ?? []) {\n    const moduleSpecifier = importDeclaration.getModuleSpecifier()?.getText()\n    if (moduleSpecifier?.includes(\"icon-placeholder\")) {\n      const namedImports = importDeclaration.getNamedImports() ?? []\n      const iconPlaceholderImport = namedImports.find(\n        (specifier) => specifier.getName() === \"IconPlaceholder\"\n      )\n\n      if (iconPlaceholderImport) {\n        iconPlaceholderImport.remove()\n      }\n\n      if (importDeclaration.getNamedImports()?.length === 0) {\n        importDeclaration.remove()\n      }\n    }\n  }\n\n  if (transformedIcons.length > 0) {\n    const importStatements = libraryConfig.import.split(\"\\n\")\n    const addedImports = []\n\n    for (const importStmt of importStatements) {\n      const importMatch = importStmt.match(\n        /import\\s+{([^}]+)}\\s+from\\s+['\"]([^'\"]+)['\"]/\n      )\n\n      if (!importMatch) continue\n\n      const [, importedNames, modulePath] = importMatch\n      const namedImports = importedNames\n        .split(\",\")\n        .map((name) => name.trim())\n        .map((name) => {\n          if (name === \"ICON\") {\n            return transformedIcons.map((icon) => ({ name: icon }))\n          }\n          return { name }\n        })\n        .flat()\n\n      const newImport = sourceFile.addImportDeclaration({\n        moduleSpecifier: modulePath,\n        namedImports,\n      })\n\n      addedImports.push(newImport)\n    }\n\n    if (!_useSemicolon(sourceFile)) {\n      for (const importDecl of addedImports) {\n        importDecl.replaceWithText(importDecl.getText().replace(\";\", \"\"))\n      }\n    }\n  }\n\n  return sourceFile\n}\n\nfunction _useSemicolon(sourceFile: SourceFile) {\n  return (\n    sourceFile.getImportDeclarations()?.[0]?.getText().endsWith(\";\") ?? false\n  )\n}\n","import { Transformer } from \"@/src/utils/transformers\"\nimport { SyntaxKind } from \"ts-morph\"\n\n// Transforms cn-menu-target class based on config.menuColor.\n// If menuColor is \"inverted\", replaces cn-menu-target with \"dark\".\n// Otherwise, removes cn-menu-target entirely.\nexport const transformMenu: Transformer = async ({ sourceFile, config }) => {\n  const menuColor = config.menuColor\n\n  // If menuColor is not set or is \"default\", we remove the placeholder.\n  const replacement = menuColor === \"inverted\" ? \"dark\" : \"\"\n\n  for (const attr of sourceFile.getDescendantsOfKind(SyntaxKind.JsxAttribute)) {\n    const attrName = attr.getNameNode().getText()\n    if (attrName !== \"className\") {\n      continue\n    }\n\n    const initializer = attr.getInitializer()\n    if (!initializer) {\n      continue\n    }\n\n    const text = initializer.getText()\n    if (!text.includes(\"cn-menu-target\")) {\n      continue\n    }\n\n    // Replace cn-menu-target with the replacement value.\n    let newText = text.replace(/cn-menu-target/g, replacement)\n\n    // Clean up extra spaces if we removed the class.\n    if (!replacement) {\n      // Remove double spaces.\n      newText = newText.replace(/\\s{2,}/g, \" \")\n      // Clean up leading/trailing spaces in strings.\n      newText = newText.replace(/\"\\s+/g, '\"')\n      newText = newText.replace(/\\s+\"/g, '\"')\n      // Clean up empty strings in cn() calls.\n      newText = newText.replace(/,\\s*\"\"\\s*,/g, \",\")\n      newText = newText.replace(/\\(\\s*\"\"\\s*,/g, \"(\")\n      newText = newText.replace(/,\\s*\"\"\\s*\\)/g, \")\")\n    }\n\n    attr.setInitializer(newText)\n  }\n\n  return sourceFile\n}\n"]}